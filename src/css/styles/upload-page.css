/* Upload page layout & visuals */
:root{
  --brand-50:#faf5ff;
  --brand-100:#f3e8ff;
  --brand-200:#e9d5ff;
  --brand-300:#d8b4fe;
  --brand-500:#8b5cf6;
  --ink-700:#2a2636;
  --ink-500:#4b4b5a;
  --ink-300:#8a8897;
  --card-bg:#fff;
  --ring:#eadcff;
}

/* overall layout */
.upload-page{ padding: 0 1rem 2rem; }
.upload-page-grid{
  display:grid;
  grid-template-columns: 420px 1fr;
  gap:1.25rem;
  align-items:start;
}
@media (max-width: 1100px){
  .upload-page-grid{ grid-template-columns:1fr; }
}

/* cards */
.card{
  background:#fff;
  border-radius:14px;
  box-shadow:0 1px 2px rgba(16,24,40,.04);
  border:1px solid #efeaf9;
}
.card__body{ padding:1rem 1.25rem; }
.card__title{ margin:0 0 .5rem; font-size:1.25rem; font-weight:800; color:var(--ink-700); }
.muted{ color:#6b7280; margin:0 0 1rem; }

/* drop zone */
.drop-zone{
  width:100%;
  min-height:140px;
  display:flex; align-items:center; justify-content:center;
  flex-direction:column;
  border:2px dashed #e4d7ff;
  background:#f6f0ff;
  border-radius:12px;
  color:var(--ink-500);
  gap:.5rem;
  cursor:pointer;
  transition:background .15s,border-color .15s, box-shadow .15s;
  margin-bottom:1rem;
}
.drop-zone svg{
  width:26px; height:26px;
  color:var(--brand-500);
}
.drop-zone.drag-over{
  background:#f1e8ff;
  border-color:#8b5cf6;
  box-shadow:0 0 0 3px var(--ring);
}

/* file pill (pre-upload list) */
.file-pill {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: .5rem .85rem;
  background:#faf8ff;
  border:1px solid #eadffb;
  border-radius:10px;
  margin-bottom:.5rem;
  font-size:.9rem;
}
.file-pill__name { flex:1; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;}
.file-pill__remove {
  cursor:pointer;
  font-weight:600;
  margin-left:.75rem;
  color: #6b46c1;
}

/* progress bar (after upload click) */
.progress-row { margin-top:.75rem; }
.progress {
  --h: 8px;
  background:#f4f3ff;
  height:var(--h);
  border-radius:999px;
  position:relative;
}
.progress__bar {
  height:100%;
  background:linear-gradient(90deg,#8b5cf6,#7c3aed);
  border-radius:999px;
  transition:width .2s ease;
  width:0%;
}
.progress__text{
  position:absolute;
  right:.5rem;
  top:50%;
  transform:translateY(-50%);
  font-size:.75rem;
  color:#6b46c1;
}

/* form spacing */
.form-group{ margin-bottom:.75rem; }
.row{ margin-top:1rem; }
/* üîß Spacing Tightening */
.drop-zone {
  min-height:110px;        /* was 140px */
  margin-bottom:0.75rem;   /* tighten space before file list */
}

.file-pill {
  margin-bottom:0.25rem;   /* tighter stacking of multiple files */
}

.form-group {
  margin-bottom:0.5rem;    /* reduce gap between fields */
}

#closet-upload-btn,
#voice-upload-btn,
#episode-upload-btn {
  display:block;
  width:100%;              /* full-width button like reference UI */
  margin-top:0.75rem;
}

/* optional: reduce gap between dropzone and form */
#closet-upload-form,
#voice-upload-form,
#episode-upload-form {
  margin-top: 0.75rem;     /* was 1rem+ via default spacing */
}
/* üîß Second-pass tightening (final polish)  */
.drop-zone {
  min-height: 100px;           /* even more compact */
  margin-bottom: 0.5rem;       /* reduce gap before file list/form */
}

/* slightly reduce space between fields */
.form-group {
  margin-bottom: 0.4rem;
}

/* reduce top margin above the form itself */
#closet-upload-form,
#voice-upload-form,
#episode-upload-form {
  margin-top: 0.5rem;
}

/* shrink card body padding for a slimmer look */
.upload-page .card__body {
  padding: 0.75rem 1rem;
}

/* optional: smaller textarea height so it doesn‚Äôt visually dominate */
#closet-notes,
#voice-notes,
#episode-notes {
  min-height: 80px;
}
/* Hide default ‚ÄúSelected:‚Äù text inserted by useUploadPanel hook  */
.file-list + .muted {
  display: none !important;
}
.drop-zone {
  border: 2px dashed rgba(124,58,237,.3);
  background: rgba(124,58,237,.05);
  border-radius: 12px;
  padding: 28px;
  text-align: center;
  cursor: pointer;
  transition: background .15s ease, border-color .15s ease;
}
.drop-zone:hover { background: rgba(124,58,237,.08); border-color: rgba(124,58,237,.45); }
.drop-zone:focus { outline: none; box-shadow: 0 0 0 3px rgba(124,58,237,.2); }

.file-list[data-empty="true"] { display:none; }
.file-pill {
  display: inline-flex;
  gap: .5rem;
  align-items: center;
  padding: 6px 10px;
  border-radius: 999px;
  background: #f5f5f7;
  margin-top: 10px;
}
.file-pill__name { max-width: 36ch; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.file-pill__size { opacity: .65; }
.file-pill__remove {
  border: 0; background: transparent; cursor: pointer; font-size: 16px; line-height: 1;
  margin-left: 2px;
}

.ring-pulse { box-shadow: 0 0 0 3px rgba(124,58,237,.25); }
/* Grid ‚Äì optional: keeps cards neat */
.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
  gap: 14px;
}

/* Card preview frame: consistent size for all items */
.closet-thumb {
  /* A gentle 3:4 portrait frame ‚Äì common for clothing */
  aspect-ratio: 3 / 4;
  width: 100%;
  border: 1px solid var(--border, #eee);
  border-radius: 10px;
  background: #fff;
  /* Center the image inside */
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* Make the whole image visible without cropping */
.closet-thumb img {
  width: 100%;
  height: 100%;
  object-fit: contain;   /* <= shows the entire photo */
  image-rendering: auto;
}

/* Placeholder text when there‚Äôs no image */
.closet-thumb__placeholder {
  color: #9aa3af;       /* muted */
  font-size: 12px;
}

/* Optional: clamp card width on huge screens so thumbs don‚Äôt get monster-big */
@media (min-width: 1400px) {
  .dashboard-grid {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  }
}
.toolbar--closet {
  display: grid;
  grid-template-columns: 180px 140px 1fr auto;
  gap: 10px;
  align-items: center;
  margin-bottom: 12px;
}

.closet-card {
  background: #fff;
  border: 1px solid var(--border, #eee);
  border-radius: 12px;
  padding: 10px;
  display: grid;
  gap: 8px;
  transition: transform .12s ease, box-shadow .12s ease;
}
.closet-card:hover { transform: translateY(-2px); box-shadow: 0 4px 18px rgba(0,0,0,.06); }

.closet-meta .title {
  font-weight: 600; font-size: 14px; line-height: 1.2;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

.chips { display: flex; gap: 6px; flex-wrap: wrap; }
.chip {
  border: 1px solid var(--border, #eee);
  border-radius: 999px;
  padding: 2px 8px;
  font-size: 12px;
  color: #6b7280;
}

.badge {
  position: absolute;
  top: 8px; left: 8px;
  font-size: 11px; padding: 2px 6px; border-radius: 6px;
  color: #334155; background: #e5e7eb; border: 1px solid #e5e7eb;
}
.badge--pub  { background: #ecfdf5; color: #065f46; border-color: #a7f3d0; }
.badge--priv { background: #f3f4f6; color: #4b5563; }

.closet-actions { display: flex; gap: 8px; }
/* üå∏ Panel background update for both Upload and Dashboard */
.card {
  background: var(--brand-50);           /* was #fff */
  border: 1px solid #efeaf9;
  border-radius: 14px;
  box-shadow: 0 1px 2px rgba(16,24,40,.04);
}

/* üíú Dropdown styling (dashboard + upload panels) */
select,
.upload-page select {
  background: var(--brand-50);
  border: 1px solid rgba(139,92,246,.25);
  border-radius: 8px;
  padding: 8px 10px;
  color: var(--ink-700);
  font-size: 14px;
  appearance: none;
}
select:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(139,92,246,.25);
}

/* üü£ Upload button styling */
#closet-upload-btn,
#voice-upload-btn,
#episode-upload-btn {
  background: var(--brand-500);
  color: #fff;
  border: none;
  border-radius: 10px;
  font-weight: 600;
  padding: 10px;
  transition: background .15s ease, box-shadow .15s ease;
}
#closet-upload-btn:hover,
#voice-upload-btn:hover,
#episode-upload-btn:hover {
  background: #7c3aed; /* slightly darker lavender */
  box-shadow: 0 2px 6px rgba(139,92,246,.25);
}
/* card container */
.closet-card { display:flex; flex-direction:column; gap:.5rem; }

/* image box */
.closet-thumb {
  position: relative;
  width: 100%;
  aspect-ratio: 3 / 4;           /* keeps a tall portrait shape */
  overflow: hidden;
  border-radius: 12px;
  background: #fafafa;
}

/* image itself */
.closet-thumb img {
  width: 100%;
  height: 100%;
  object-fit: contain;            /* shows full photo without cropping */
  image-rendering: auto;
}

/* badge */
.closet-thumb .badge {
  position: absolute;
  top: 8px; left: 8px;
  font-size: 12px; padding: 2px 8px; border-radius: 999px;
  background: rgba(0,0,0,.65); color: #fff;
}
.badge--pub { background: rgba(99,102,241,.9); }   /* purple glow for public */
.badge--priv{ background: rgba(107,114,128,.9); }  /* gray for private */
.file-list { display: grid; gap: 10px; }
.file-card {
  display: grid; grid-template-columns: 88px 1fr; gap: 10px;
  align-items: center;
  padding: 8px; border: 1px solid var(--border); border-radius: 12px; background: var(--panel);
  box-shadow: var(--shadow-1);
}
.file-thumb { width: 88px; height: 88px; border-radius: 10px; overflow: hidden; background: #f7f7fb; }
.file-thumb img { width: 100%; height: 100%; object-fit: cover; display: block; }
.file-title { font-weight: 600; }
.upload-page-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: 340px 320px 1fr; /* upload | toolbox | dashboard */
}
@media (max-width: 1100px){
  .upload-page-grid { grid-template-columns: 1fr; }
}
.tool-block { padding: 10px 0; border-top: 1px dashed var(--border); }
.tool-block:first-of-type { border-top: 0; }
.tool-row { display: grid; grid-template-columns: auto 1fr; gap: 10px 12px; align-items: start; margin: 8px 0; }
.tool-check { display: contents; }
.tool-title { font-weight: 600; }
.tool-sub { color: var(--text-dim); font-size: .9rem; }
.modal-scrim { position: fixed; inset: 0; background: rgba(0,0,0,.4); display: grid; place-items: center; z-index: 1400; }
.modal { width: min(720px, 92vw); }
.editor-area { max-height: 60vh; overflow: auto; background: var(--bg-soft); border: 1px solid var(--border); border-radius: 8px; padding: 8px; }
.upload-page-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: 340px 320px 1fr; /* upload | toolbox | dashboard */
}
@media (max-width: 1100px){
  .upload-page-grid { grid-template-columns: 1fr; }
}
.tool-block { padding: 10px 0; border-top: 1px dashed var(--border); }
.tool-block:first-of-type { border-top: 0; }
.tool-row { display: grid; grid-template-columns: auto 1fr; gap: 10px 12px; align-items: start; margin: 8px 0; }
.tool-check { display: contents; }
.tool-title { font-weight: 600; }
.tool-sub { color: var(--text-dim); font-size: .9rem; }
.modal-scrim { position: fixed; inset: 0; background: rgba(0,0,0,.4); display: grid; place-items: center; z-index: 1400; }
.modal { width: min(720px, 92vw); }
.editor-area { max-height: 60vh; overflow: auto; background: var(--bg-soft); border: 1px solid var(--border); border-radius: 8px; padding: 8px; }
/* 2-col top row, toolbox full width below */
.upload-page-grid.v2 {
  display: grid;
  gap: 16px;
  grid-template-columns: 360px 1fr;         /* upload | dashboard */
  grid-template-areas:
    "upload dashboard"
    "toolbox toolbox";
}

.up-card { grid-area: upload; }
.dash-card { grid-area: dashboard; }
.toolbox-card { grid-area: toolbox; }

/* tabs + toolbox styling */
.toolbox .tabs {
  display: inline-flex; gap: 6px; margin-left: auto;
}
.tab {
  padding: 6px 10px; border: 1px solid var(--border);
  background: var(--bg); border-radius: 999px; cursor: pointer;
}
.tab.is-active { background: var(--accent-soft, #f6f1fa); border-color: var(--focus); }

.toolbox__hd {
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
  padding: 8px 8px 12px;
}
.toolbox__body { padding: 8px; }

.tool-block { padding: 10px 0; border-top: 1px dashed var(--border); }
.tool-block:first-of-type { border-top: 0; }
.tool-row {
  display: grid; grid-template-columns: auto 1fr; gap: 10px 12px;
  align-items: start; margin: 8px 0;
}
.tool-check { display: contents; }
.tool-title { font-weight: 600; }
.tool-sub { color: var(--text-dim); font-size: .9rem; }

/* modal/editor */
.modal-scrim { position: fixed; inset: 0; background: rgba(0,0,0,.4);
  display: grid; place-items: center; z-index: 1400; }
.modal { width: min(960px, 96vw); }
.editor-area { max-height: 70vh; overflow: auto; background: var(--bg-soft);
  border: 1px solid var(--border); border-radius: 8px; padding: 8px; }
/* progress ready state */
progress.is-ready::-webkit-progress-value { background-color:#22c55e; }
progress.is-ready::-moz-progress-bar     { background-color:#22c55e; }
progress.is-ready { accent-color:#22c55e; } /* for newer browsers */
